<html> <!--
        Use the bash script launch-eternal-in-browser to launch the apache server and the game
        http://192.168.0.48/~jeanrenebouvier/eternal/eternal.html ou http://localhost/~jeanrenebouvier/eternal/eternal.html
        -->
    <head>
        <meta charset="utf-8" />
        <title>Eternal Life ⓒ Facts Haven SAS - JR Bouvier</title>
        <link rel="icon" type="image/png" href="./images/factshaven.png">
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link type="text/css" rel="stylesheet" href="./styles/eternal-layout.css">
        <link type="text/css" rel="stylesheet" href="./styles/eternal-grid.css">
        <link type="text/css" rel="stylesheet" href="./styles/eternal-style.css">
        <!-- scripts are located at the end of the body -->
    </head>
    <body>
        <!-- By default, the frosted div is hidden; it is also in absolute position 0,0 to cover the whole screen when visible -->
        <div id="frosted">
            <div id="popup">
                <!-- all modal dialogs share a cancel button  -->
                <i class="material-icons" id="cancel">cancel</i>
                <!-- popup can expose various contents, driven by javascript (all are hidden by default) -->
                <div id="settings">
                    <!-- linear vs geometric scaling, scaling steps, grid color, trail coloring schemes, zoom shift -->
                    <fieldset id="zoom-settings">
                        <legend title="zoom settings">
                            <i class="material-icons light">launch</i>
                        </legend>
                        <label>zoom settings:&nbsp;</label>
                        <label for="scaling-mode" title="linear mode scale is 1 + step × (slider+shift); geometric mode scale is (1+step)^(slider+shift); where slider is the value of the zoom slider (between -2 and 2)">
                            <select id="scaling-mode">
                                <option value="linear" selected>linear</option>
                                <option value="geometric">geometric</option>
                            </select><span>&nbsp;mode</span><!-- keep span attached -->
                        </label>
                        <label for="scaling-step" title="linear or geometric (multiplicative) increment when using the zoom slider; see mode for formula">
                            <input id="scaling-step" type="number" value="0.1" step="0.1"
                            min="0.1" max="1"><span>step</span> <!-- keep span attached -->
                        </label>
                        <label for="scaling-shift" title="shift, i.e. value added to the zoom slider; see mode for formula">
                            <input id="scaling-shift" type="number" value="2" step="1"
                            min="-1" max="4"><span>shift</span><!-- keep span attached -->
                        </label>
                    </fieldset>
                    <fieldset id="color-settings">
                        <legend title="color settings">
                            <i class="material-icons light">palette</i>
                        </legend>
                        <label>color settings:&nbsp;</label>
                        <label for="grid-color" title="grid color">
                            <input id="grid-color" type="color"
                            value="#e0e0e0"><span>grid</span> <!-- keep span attached -->
                        </label>
                        <label for="trail-color" title="trail color gradient start">
                            <input id="trail-color" type="color"
                            value="#ff80c0"><span>trail</span> <!-- keep span attached -->
                        </label>
                    </fieldset>
                    <!-- geometry i.e. side connectivity and effects such as bounce, drop or teleport -->
                    <fieldset id="geometry-settings">
                        <legend title="geometry settings">
                            <i class="material-icons light">swap_vert</i><i class="material-icons light" style="position:absolute;left:.72em">swap_horiz</i>
                        </legend>
                        <label>geometry settings:</label>
                        <table title="for each side of the game board, indicate whether cells drop off the edge (disappear) or reappear on the same edge (bouncing back) or on another edge (arrows indicate in which direction the cells come from after hitting the edge)">
                            <tbody>
                                <tr>
                                    <td></td>
                                    <td>
                                        <select id="top-effect">
                                            <option value="drop" title="disappear" selected>×</option>
                                            <option value="top" title="bounce down from top">↓</option>
                                            <option value="bottom" title="reappear from bottom">↑</option>
                                            <option value="left" title="reappear from left side">→</option>
                                            <option value="right" title="reappear from right side">←</option>
                                        </select>
                                    </td>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>
                                        <select id="left-effect">
                                            <option value="drop" title="disappear" selected>×</option>
                                            <option value="top" title="reappear from top">↓</option>
                                            <option value="bottom" title="reappear from bottom">↑</option>
                                            <option value="left" title="bounce right from left side">→</option>
                                            <option value="right" title="reappear from right side">←</option>
                                        </select>
                                    </td>
                                    <td id="universe"></td>
                                    <td>
                                        <select id="right-effect">
                                            <option value="drop" title="disappear" selected>×</option>
                                            <option value="top" title="reappear from top">↓</option>
                                            <option value="bottom" title="reappear from bottom">↑</option>
                                            <option value="left" title="reappear from left side">→</option>
                                            <option value="right" title="bounce left from right side">←</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td>
                                        <select id="bottom-effect">
                                            <option value="drop" title="disappear" selected>×</option>
                                            <option value="top" title="reappear from top">↓</option>
                                            <option value="bottom" title="bounce up from bottom">↑</option>
                                            <option value="left" title="reappear from left side">→</option>
                                            <option value="right" title="reappear from right side">←</option>
                                        </select>
                                    </td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                    </fieldset>
                </div>
            </div>
        </div>
        <nav id="menubar">
            <i class="material-icons">menu</i> Menubar will go here eventually
        </nav>
        <section id="main">
            <fieldset id="game" title="game area">
                <legend><i class="material-icons light">games</i></legend>
                <div id="board">
                    <canvas id="canvas" width="100" height="100">
                        Use a modern browser (e.g. Chrome, Firefox, Mozilla) to display game.
                    </canvas>
                    <svg id="svg" >
                        <defs>
                            <pattern id='hexagon-pattern' width='17.3205080768' height='10' patternUnits='userSpaceOnUse'>
                                <!-- 471x625 -->
                                <path d='M 17.3205080768 5 H 11.5470053879 L 8.66025403784 0 2.88675134595 0 0 5 2.88675134595 10 M 8.66025403784 10 L 11.5470053879 5'/>
                            </pattern>
                            <pattern id='square-pattern' width='10' height='10' patternUnits='userSpaceOnUse'>
                                <path d='M 0 0 H 10 H 0 V 10'/>
                            </pattern>
                            <pattern id='triangle-pattern' width='17.3205080768' height='10' patternUnits='userSpaceOnUse'>
                                <path d='M 0 0 V 10 L 17.3205080768 0 V 10 Z'/>
                                <path d='M 8.66025403784 0 V 10'/>
                            </pattern>
                        </defs>
                        <rect id="grid-background" width="100%" height="100%" />
                    </svg>
                </div>
            </fieldset>
            <fieldset id="control" title="control knobs">
                <legend><i class="material-icons light">tune</i></legend>
                <!-- convert play to "pause" when playing -->
                <input type="button" id="play"    class="material-icons" value="play_arrow"     title="play">
                <input type="button" id="step"    class="material-icons" value="skip_next"      title="step">
                <input type="button" id="clear"   class="material-icons" value="stop"           title="clear" >
                <input type="button" id="backup"  class="material-icons" value="cloud_upload"   title="backup">
                <input type="button" id="restore" class="material-icons" value="cloud_download" title="restore" >
                <input type="button" id="config"  class="material-icons" value="settings"       title="configuration (rules, colors)">
                <input type="button" id="help"    class="material-icons" value="help"           title="help">
                <label for="trail" class="material-icons" title="trail">
                    <input type="checkbox" id="trail"  value="on"
                    checked><span>line_weight</span>
                </label>
                <label for="speed" class="material-icons" title="speed">
                    <input type="range" id="speed" value="0" min="-2" max="2"
                    list="ticks"><datalist id="ticks">
                        <option value="-2">
                        <option value="-1">
                        <option value="0">
                        <option value="1">
                        <option value="2">
                    </datalist><span>slow_motion_video</span>
                </label>
                <fieldset id="tiling" title="tiling">
                    <legend><i class="material-icons light">view_comfy</i></legend>
                    <label for="triangle" title="triangular tiling">
                        <input type="radio" id="triangle" name="tiling" value="triangle"><span id="tri">&nbsp;&#x25b3;</span>
                    </label>
                    <label for="square" title="square tiling">
                        <input type="radio" id="square" name="tiling" value="square" checked><span id="sqr">&nbsp;&#x2395;</span>
                    </label>
                    <label for="hexagon" title="hexagonal tiling">
                        <input type="radio" id="hexagon" name="tiling" value="hexagon"><span id="hex">&nbsp;&#x2394;</span>
                    </label>
                </fieldset>

                <label for="grid" class="material-icons" title="grid">
                    <input type="checkbox" id="grid" value="on"
                    checked><span>border_clear</span>
                </label>
                <label for="zoom" class="material-icons" title="zoom">
                    <input type="range" id="zoom" value="0" min="-3" max="3" step="1"
                    list="scale"><datalist id="scale">
                        <option value="-3">
                        <option value="-2">
                        <option value="-1">
                        <option value="0" label="▼">
                        <option value="1">
                        <option value="2">
                        <option value="3">
                    </datalist><span>zoom_in</span>
                </label>
            </fieldset>
        </section>
        <footer id="footer">
            <br />
        </footer>
        <!-- scripts load after the body is loaded -->
        <script type="module" src="./lib/eternal.js"></script>
    </body>
</html>
